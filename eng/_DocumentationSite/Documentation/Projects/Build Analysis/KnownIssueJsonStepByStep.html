<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>How to create a Known Issue: step by step </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="How to create a Known Issue: step by step ">
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="">
      <meta name="docfx:tocrel" content="">
      
      
      
      
      
  </head>

  <script type="module">
    import options from './../../../public/main.js'
    import { init } from './../../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h2 id="how-to-create-a-known-issue-step-by-step">How to create a Known Issue: step by step</h2>

<p>This is a summarized version of our documentation, you can always look at <a href="https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssues.md#filling-out-known-issues-json-blob">Complete known issues documentation</a> or at <a href="https://github.com/dotnet/runtime/blob/main/docs/workflow/ci/failure-analysis.md">Runtime known issues documentation</a> for more details.</p>
<ol>
<li>Select the line of the error message that you want to match. Choose the line that best represents the failure.</li>
<li>Decide if you need to use “ErrorMessage” or “ErrorPattern”
<ul>
<li>&quot;ErrorMessage&quot; works as <code>contains</code> (single line, case-insensitive)</li>
<li>&quot;ErrorPattern&quot; works as <code>regex</code> (single line, case-insensitive, no backtracking)</li>
</ul>
</li>
<li>Write the error message: <sup>  <a href="https://github.com/dotnet/arcade/blob/main/Documentation/Projects/Build%20Analysis/KnownIssues.md#filling-out-known-issues-json-blob">Additional documentation on how to write an error message</a></sup>
<ul>
<li>If you use “ErrorMessage” select the part of the line that you want to match, use <a href="https://string-functions.com/countsubstrings.aspx">string-functions</a> to test it.</li>
<li>If you use &quot;ErrorPattern&quot; write the regex that matches your error message. Use <a href="https://regex101.com/">regex101</a> (choose <code>.NET (C#)</code> flavor with <code>Single line</code>, <code>Insensitive</code>, <code>No backtracking</code> flags enabled) to test it.</li>
<li>To escape special characters in json, use: <a href="https://www.freeformatter.com/json-escape.html">freeformatter</a>.</li>
</ul>
</li>
<li>Set BuildRetry to <code>true</code> if you would like to enable automatic build retries for any build that matches the error.</li>
<li>Set ExcludeConsoleLog to <code>true</code> if you would like to exclude the Helix console logs from the search space.</li>
</ol>
<p>Tip: Look at <a href="https://github.com/orgs/dotnet/projects/111/views/2">.NET Core Engineering Services: Known Build Errors Project</a> to see other known issues and use them as examples.</p>
<h2 id="examples">Examples</h2>
<p>Expand/Collapse the examples to navigate between them more easily.</p>
<details open="">
  <summary><b>Example 1: ErrorMessage</b></summary>
  
**Error**
```
CMake Error at /usr/share/cmake-3.21/Modules/FindPackageHandleStandardArgs.cmake:230 (message):
    Could NOT find ZLIB (missing: ZLIB_LIBRARY ZLIB_INCLUDE_DIR)
Call Stack (most recent call first):
    /usr/share/cmake-3.21/Modules/FindPackageHandleStandardArgs.cmake:594 (_FPHSA_FAILURE_MESSAGE)
    /usr/share/cmake-3.21/Modules/FindZLIB.cmake:120 (FIND_PACKAGE_HANDLE_STANDARD_ARGS)
    /__w/1/s/src/native/libs/System.IO.Compression.Native/extra_libs.cmake:12 (find_package)
    CMakeLists.txt:532 (append_extra_compression_libs)
<pre><code>
**Known issue json:**

    ```json
    {
    &quot;ErrorMessage&quot;: &quot;Could NOT find ZLIB (missing: ZLIB_LIBRARY ZLIB_INCLUDE_DIR)&quot;,
    &quot;BuildRetry&quot;: false,
    &quot;ExcludeConsoleLog&quot;: false
    }
    ```

**Explanation:**
We selected the error line and copied and pasted it on error message, as this will work as a case-insensitive contains 
&lt;/details&gt;

&lt;details open&gt;
  &lt;summary&gt;&lt;b&gt;Example 2: ErrorPatttern&lt;/b&gt;&lt;/summary&gt;


### 
**Error**
</code></pre>
<p>Restored /__w/1/s/src/coreclr/tools/SuperFileCheck/SuperFileCheck.csproj (in 5.22 sec).
Restored /__w/1/s/src/coreclr/tools/dotnet-pgo/dotnet-pgo.csproj (in 8.42 sec).
Restored /__w/1/s/src/coreclr/tools/aot/crossgen2/crossgen2.csproj (in 5.66 sec).
CSC : error CS8034: Unable to load Analyzer assembly /__w/1/s/.packages/microsoft.codeanalysis.analyzers/3.3.3/analyzers/dotnet/cs/Microsoft.CodeAnalysis.Analyzers.dll : Not a valid assembly: /__w/1/s/.packages/microsoft.codeanalysis.analyzers/3.3.3/analyzers/dotnet/cs/Microsoft.CodeAnalysis.Analyzers.dll [/__w/1/s/src/libraries/System.Private.CoreLib/gen/System.Private.CoreLib.Generators.csproj]
##[error]CSC(0,0): error CS8034: (NETCORE_ENGINEERING_TELEMETRY=Build) Unable to load Analyzer assembly /__w/1/s/.packages/microsoft.codeanalysis.analyzers/3.3.3/analyzers/dotnet/cs/Microsoft.CodeAnalysis.Analyzers.dll : Not a valid assembly: /__w/1/s/.packages/microsoft.codeanalysis.analyzers/3.3.3/analyzers/dotnet/cs/Microsoft.CodeAnalysis.Analyzers.dll
CSC : error CS8032: An instance of analyzer Microsoft.CodeAnalysis.CSharp.Analyzers.CSharpImmutableObjectMethodAnalyzer cannot be created from /__w/1/s/.packages/microsoft.codeanalysis.analyzers/3.3.3/analyzers/dotnet/cs/Microsoft.CodeAnalysis.CSharp.Analyzers.dll : Exception has been thrown by the target of an invocation.. [/__w/1/s/src/libraries/System.Private.CoreLib/gen/System.Private.CoreLib.Generators.csproj]
##[error]CSC(0,0): error CS8032: (NETCORE_ENGINEERING_TELEMETRY=Build) An instance of analyzer Microsoft.CodeAnalysis.CSharp.Analyzers.CSharpImmutableObjectMethodAnalyzer cannot be created from /__w/1/s/.packages/microsoft.codeanalysis.analyzers/3.3.3/analyzers/dotnet/cs/Microsoft.CodeAnalysis.CSharp.Analyzers.dll : Exception has been thrown by the target of an invocation..
CSC : error CS8032: An instance of analyzer Microsoft.CodeAnalysis.CSharp.Analyzers.CSharpUpgradeMSBuildWorkspaceAnalyzer cannot be created from /__w/1/s/.packages/microsoft.codeanalysis.analyzers/3.3.3/analyzers/dotnet/cs/Microsoft.CodeAnalysis.CSharp.Analyzers.dll : Could not load file or assembly 'Microsoft.CodeAnalysis.Analyzers, Version=3.3.5.2003, Culture=neutral, PublicKeyToken=31bf3856ad364e35'. The system cannot find the file specified.. [/__w/1/s/src/libraries/System.Private.CoreLib/gen/System.Private.CoreLib.Generators.csproj]
##[error]CSC(0,0): error CS8032: (NETCORE_ENGINEERING_TELEMETRY=Build) An instance of analyzer Microsoft.CodeAnalysis.CSharp.Analyzers.CSharpUpgradeMSBuildWorkspaceAnalyzer cannot be created from /__w/1/s/.packages/microsoft.codeanalysis.analyzers/3.3.3/analyzers/dotnet/cs/Microsoft.CodeAnalysis.CSharp.Analyzers.dll : Could not load file or assembly 'Microsoft.CodeAnalysis.Analyzers, Version=3.3.5.2003, Culture=neutral, PublicKeyToken=31bf3856ad364e35'. The system cannot find the file specified..</p>
<pre><code>
**Known issue json:**
(Please notice that there are some characters escaped)

```json
{
  &quot;ErrorPattern&quot;: &quot;An instance of analyzer Microsoft\\.CodeAnalysis\\.CSharp\\.Analyzers\\..* cannot be created from&quot;,
  &quot;BuildRetry&quot;: false,
  &quot;ExcludeConsoleLog&quot;: false
}
</code></pre>
<p><strong>Explanation:</strong>
The main error is <code>an instance of the analyzer cannot be created...</code> but the instance of the analyzer can change (Ex .CSharpImmutableObjectMethodAnalyzer or CSharpUpgradeMSBuildWorkspaceAnalyzer). Therefore, we need to use a regex. Keep in mind that the regex matches one line and does not backtrack.</p>
</details>
<details open="">
  <summary><b>Example 3: BuildRetry</b></summary>
<p><strong>Error:</strong></p>
<pre><code>A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. (pkgs.dev.azure.com:443)

A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.

D:\a\1\s\src\Directory.Build.props(3,3): warning : Failed to retrieve information about 'Microsoft.DotNet.Arcade.Sdk' from remote source 'https://pkgs.dev.azure.com/dnceng/9ee6d478-d288-47f7-aacc-f6e6d082ae6d/_packaging/1a5f89f6-d8da-4080-b15f-242650c914a8/nuget/v3/flat2/microsoft.dotnet.arcade.sdk/index.json'.
</code></pre>
<p><strong>Known issue json:</strong></p>
<pre><code class="lang-json">{
   &quot;ErrorMessage&quot; : &quot;Failed to retrieve information about&quot;,
   &quot;BuildRetry&quot;: true
}
</code></pre>
<p><strong>Explanation:</strong> This is a flaky failure that is related to a connection issue. It’s highly likely that the problem will be resolved by just retrying the build, so we set BuildRetry to true.</p>
</details>
</article>

        <div class="contribution d-print-none">
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>