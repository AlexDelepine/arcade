<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Test passed on rerun data </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Test passed on rerun data ">
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="">
      <meta name="docfx:tocrel" content="">
      
      
      
      
      
  </head>

  <script type="module">
    import options from './../../../public/main.js'
    import { init } from './../../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="test-passed-on-rerun-data">Test passed on rerun data</h1>

<p>Analyzing tests that passed on rerun at a granular level as is a build probably sometimes doesn't feel enough, or probably you want to see all the tests that passed on rerun in a quick look.</p>
<p>For the cases in which you want to see all the tests that passed on rerun in your build or repo or look for the most common failures on the test that passed after a rerun, and many other scenarios, you can do the following:</p>
<ol>
<li><p>Query the PassedOnRerun data using the <a href="https://dataexplorer.azure.com/clusters/engsrvprod/databases/engineeringdata?query=.show%20table%20AzureDevOpsTests">AzureDevOpsTests</a> table, located in: <a href="https://dataexplorer.azure.com/clusters/engsrvprod/databases/engineeringdata">Engsrvprod/engineeringdata</a> <br></p>
<pre><code>AzureDevOpsTests
| where Outcome == &quot;PassedOnRerun&quot;
| where BuildId == [buildId]
| where Repository == [repository]
</code></pre>
</li>
<li><p>Use <a href="https://msit.powerbi.com/links/crjYD5rwh0?ctid=72f988bf-86f1-41af-91ab-2d7cd011db47&amp;pbi_source=linkShare">Build Analysis Reporting</a> under <code>Test Passed on Rerun</code> tab to see aggregated data.</p>
</li>
</ol>
<h2 id="example-of-queries">Example of queries</h2>
<ol>
<li><p>Query by build Id: <br>
To get the buildId of your build you can navigate to your Azure DevOps build pipeline, see the URL, it should look like this: <br>
<code>https://dev.azure.com/dnceng/public/_build/results?buildId=1234567&amp;view=results</code> <br>
Look for the <code>buildId=</code>  in this case is <code>1234567</code> and use that id in your query. <br>
Ex.</p>
<pre><code>AzureDevOpsTests
| where Outcome == &quot;PassedOnRerun&quot;
| where BuildId == 1234567
</code></pre>
</li>
<li><p>Query by repository<sup>*</sup>: <br>
In this example you can see all the assemblies in the last week for a repository, ordered by passed on rerun count</p>
<pre><code>AzureDevOpsTests
| where RunCompleted &gt; ago(7d)
| where Outcome == &quot;PassedOnRerun&quot;
| where Repository == &quot;dotnet/runtime&quot; 
| summarize count() by WorkItemFriendlyName
| order by count_ desc
</code></pre>
<p><sub>* Examples of respositories: 'dotnet/roslyn', 'dotnet/runtime', 'dotnet/aspnetcore', 'dotnet/installer'</sub></p>
</li>
<li><p>Query tests by assembly: <br>
In this example you can see all the tests in the last week for an assembly, ordered by passed on rerun count <br></p>
<pre><code>AzureDevOpsTests
| where RunCompleted &gt; ago(7d)
| where Outcome == &quot;PassedOnRerun&quot;
| where WorkItemFriendlyName == &quot;System.Net.Http.Functional.Tests&quot;
| summarize count(), any(Arguments) by TestName, ArgumentHash
| order by count_ desc
</code></pre>
</li>
</ol>
<!-- Begin Generated Content: Doc Feedback -->
<p><sub>Was this helpful? <a href="https://helix.dot.net/f/p/5?p=Documentation%5CProject-Docs%5CDev%20Workflow%5CPassed%20On%20Rerun%20Data.md"><img src="https://helix.dot.net/f/ip/5?p=Documentation%5CProject-Docs%5CDev%20Workflow%5CPassed%20On%20Rerun%20Data.md" alt="Yes"></a> <a href="https://helix.dot.net/f/n/5?p=Documentation%5CProject-Docs%5CDev%20Workflow%5CPassed%20On%20Rerun%20Data.md"><img src="https://helix.dot.net/f/in" alt="No"></a></sub></p>
<!-- End Generated Content-->
</article>

        <div class="contribution d-print-none">
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>