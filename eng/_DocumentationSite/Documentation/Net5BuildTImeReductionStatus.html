<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>.NET 5 Build Time Reduction Status </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content=".NET 5 Build Time Reduction Status ">
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="">
      <meta name="docfx:tocrel" content="">
      
      
      
      
      
  </head>

  <script type="module">
    import options from './../public/main.js'
    import { init } from './../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="net-5-build-time-reduction-status">.NET 5 Build Time Reduction Status</h1>

<p>The goal for .NET 5 is to bring the E2E build time under two hours. To this end, a number of things should be done to help bring
the time for each repo's build under a prescribed budget. This document tracks those changes. For more information on the changes, see
<a href="https://github.com/dotnet/arcade/blob/master/Documentation/Net5Builds.md">.NET 5 Build Shape</a>.</p>
<h2 id="budgets">Budgets</h2>
<p>The expected potential critical paths of the build after consolidation is complete are:</p>
<ul>
<li>runtime -&gt; aspnetcore -&gt; sdk -&gt; installer</li>
<li>runtime -&gt; winforms -&gt; wpf -&gt; windowsdesktop -&gt; sdk -&gt; installer</li>
<li>wpf-int -&gt; wpf -&gt; windowsdesktop -&gt; sdk -&gt; installer</li>
</ul>
<p>Based on the rough amount of build work done in each repo, budgets for each build leg, to fit within the overall 2 hour official time goal, have been set as follows:</p>
<table>
<thead>
<tr>
<th>Repo</th>
<th>Budget (mins)</th>
</tr>
</thead>
<tbody>
<tr>
<td>runtime</td>
<td>45</td>
</tr>
<tr>
<td>aspnetcore</td>
<td>45</td>
</tr>
<tr>
<td>sdk + installer</td>
<td>30</td>
</tr>
<tr>
<td>winforms + wpf + windowsdesktop (wd)</td>
<td>45</td>
</tr>
<tr>
<td>wpf-int + wpf + windowsdesktop (wd)</td>
<td>45</td>
</tr>
</tbody>
</table>
<h3 id="feasibility">Feasibility</h3>
<p>Based on the previous calculations of potential build times done when deciding what to do about repo consolidation,
it is believed that these numbers are within the realm of possibility. Signing, tests and validation have an outsized impact
on build, and VM size can potentially be increased to improve parallelism within a single build. For more information, see
<a href="https://github.com/dotnet/arcade/blob/master/Documentation/Net5Builds.md">.NET 5 Build Shape</a></p>
<h2 id="current-status">Current Status</h2>
<ul>
<li><strong>NA = Not applicable</strong> - Not applicable to this repo</li>
<li><strong>NYA = Not yet applicable</strong> - Requires work from Eng teams before implementation is possible</li>
<li><strong>NR = Not required</strong> - This work is not necessarily required to meet the 2 hour build time. For instance,
repos that are disconnecting from the main flow and shipping only as disconnected components may choose to keep
signing and validation within their builds.</li>
</ul>
<p><em>Note that if some fields are NYA (signing/validation), the &quot;Within budget&quot; field is a rough estimation
of whether the repo will be within budge once those items are complete.</em></p>
<table>
<thead>
<tr>
<th>Repo</th>
<th>Owner</th>
<th>Consolidated/Removed from flow</th>
<th>Moved tests</th>
<th>Post-signing</th>
<th>Post-validation</th>
<th>Budget (mins)</th>
<th>Within budget</th>
</tr>
</thead>
<tbody>
<tr>
<td>websdk</td>
<td>vramak</td>
<td>✔️</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr>
<td>aspnetcore</td>
<td>kevinpi</td>
<td>NA</td>
<td>✔️</td>
<td>NYA</td>
<td>✔️</td>
<td>45</td>
<td>❌</td>
</tr>
<tr>
<td>aspnetcore-tooling</td>
<td>kevinpi</td>
<td>✔️</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr>
<td>efcore</td>
<td>kevinpi</td>
<td>✔️</td>
<td>❌</td>
<td>NR</td>
<td>NR</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr>
<td>extensions</td>
<td>ericstj</td>
<td>✔️</td>
<td>✔️</td>
<td>NR</td>
<td>NR</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr>
<td>installer</td>
<td>marcpop</td>
<td>NA</td>
<td>✔️</td>
<td>NYA</td>
<td>❌</td>
<td>30 (w/sdk)</td>
<td>❌</td>
</tr>
<tr>
<td>runtime</td>
<td>jaredpar</td>
<td>✔️</td>
<td>✔️</td>
<td>NYA</td>
<td>✔️</td>
<td>45</td>
<td>❌</td>
</tr>
<tr>
<td>sdk</td>
<td>marcpop</td>
<td>NA</td>
<td>✔️</td>
<td>NYA</td>
<td>❌</td>
<td>30 (w/installer)</td>
<td>❌</td>
</tr>
<tr>
<td>templating</td>
<td>joaguila</td>
<td>NA</td>
<td>❌</td>
<td>NYA</td>
<td>❌</td>
<td>NA</td>
<td>NA</td>
</tr>
<tr>
<td>windowsdesktop</td>
<td>fabiant</td>
<td>NA</td>
<td>❌</td>
<td>NYA</td>
<td>❌</td>
<td>45 (w/winforms + wpf)</td>
<td>❌</td>
</tr>
<tr>
<td>winforms</td>
<td>mmcgaw</td>
<td>NA</td>
<td>❌</td>
<td>NYA</td>
<td>❌</td>
<td>45 (w/wpf + wd)</td>
<td>❌</td>
</tr>
<tr>
<td>wpf-int</td>
<td>fabiant</td>
<td>NA</td>
<td>❌</td>
<td>NYA</td>
<td>❌</td>
<td>45 (w/wpf + wd)</td>
<td>❌</td>
</tr>
<tr>
<td>wpf</td>
<td>fabiant</td>
<td>NA</td>
<td>❌</td>
<td>NYA</td>
<td>❌</td>
<td>45 (w/winforms or wpf-int + wd)</td>
<td>❌</td>
</tr>
</tbody>
</table>
<!-- Begin Generated Content: Doc Feedback -->
<p><sub>Was this helpful? <a href="https://helix.dot.net/f/p/5?p=Documentation%5CNet5BuildTImeReductionStatus.md"><img src="https://helix.dot.net/f/ip/5?p=Documentation%5CNet5BuildTImeReductionStatus.md" alt="Yes"></a> <a href="https://helix.dot.net/f/n/5?p=Documentation%5CNet5BuildTImeReductionStatus.md"><img src="https://helix.dot.net/f/in" alt="No"></a></sub></p>
<!-- End Generated Content-->
</article>

        <div class="contribution d-print-none">
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>